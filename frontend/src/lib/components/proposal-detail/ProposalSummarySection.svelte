<script lang="ts">
  import { i18n } from "$lib/stores/i18n";
  import ProposalSummary from "./ProposalSummary.svelte";

  export let title: string | undefined;
  export let summary: string | undefined;
  export let url: string | undefined;
</script>

<div class="content-cell-island" data-tid="proposal-summary-section-component">
  <h2 class="content-cell-title" data-tid="proposal-summary-title">
    {$i18n.proposal_detail.summary}
  </h2>

  <div class="content-cell-details">
    <ProposalSummary {summary}>
      <svelte:fragment slot="title">
        <p data-tid="propose-summary-title" class="value">{title ?? ""}</p>

        {#if url}
          <a
            target="_blank"
            href={url}
            rel="noopener noreferrer"
            data-tid="proposal-summary-url">{url}</a
          >
        {/if}
      </svelte:fragment>
    </ProposalSummary>
  </div>
</div>

<style lang="scss">
  @use "@dfinity/gix-components/dist/styles/mixins/fonts";

  h2 {
    @include fonts.h3;
  }

  a {
    overflow-wrap: break-word;
  }
</style>
