#!/usr/bin/env bash
set -euxo pipefail

echo "Populate docker cache - time here is what end users feel when they want to verify your build."
echo "For the full experience, wipe yor cache before you start."
time chronic ./scripts/docker-build
echo

echo "Time a change to the frontend"
echo >>frontend/src/app.html
time chronic ./scripts/docker-build
echo

echo "Time a change to the backend"
echo >>rs/backend/src/main.rs
time chronic ./scripts/docker-build
echo

echo "Time a change to the aggregator"
echo >>rs/sns_aggregator/src/lib.rs
time chronic ./scripts/docker-build
echo
